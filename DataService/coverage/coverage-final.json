{"/home/alex/PhpstormProjects/astra-storage/DataService/src/components/storage-records/storage-record.entity.ts": {"path":"/home/alex/PhpstormProjects/astra-storage/DataService/src/components/storage-records/storage-record.entity.ts","statementMap":{"0":{"start":{"line":1,"column":17},"end":{"line":6,"column":1}},"1":{"start":{"line":2,"column":12},"end":{"line":2,"column":28}},"2":{"start":{"line":2,"column":34},"end":{"line":2,"column":125}},"3":{"start":{"line":3,"column":4},"end":{"line":4,"column":150}},"4":{"start":{"line":3,"column":79},"end":{"line":3,"column":131}},"5":{"start":{"line":4,"column":9},"end":{"line":4,"column":150}},"6":{"start":{"line":4,"column":58},"end":{"line":4,"column":150}},"7":{"start":{"line":4,"column":81},"end":{"line":4,"column":150}},"8":{"start":{"line":5,"column":4},"end":{"line":5,"column":66}},"9":{"start":{"line":7,"column":17},"end":{"line":9,"column":1}},"10":{"start":{"line":8,"column":4},"end":{"line":8,"column":109}},"11":{"start":{"line":8,"column":79},"end":{"line":8,"column":109}},"12":{"start":{"line":13,"column":20},"end":{"line":17,"column":1}},"13":{"start":{"line":15,"column":8},"end":{"line":15,"column":34}},"14":{"start":{"line":18,"column":0},"end":{"line":22,"column":42}},"15":{"start":{"line":20,"column":23},"end":{"line":20,"column":39}},"16":{"start":{"line":23,"column":0},"end":{"line":27,"column":49}},"17":{"start":{"line":28,"column":0},"end":{"line":32,"column":49}},"18":{"start":{"line":33,"column":0},"end":{"line":36,"column":44}},"19":{"start":{"line":37,"column":0},"end":{"line":41,"column":49}},"20":{"start":{"line":42,"column":0},"end":{"line":45,"column":44}},"21":{"start":{"line":46,"column":0},"end":{"line":49,"column":18}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":1,"column":46},"end":{"line":1,"column":47}},"loc":{"start":{"line":1,"column":87},"end":{"line":6,"column":1}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":46},"end":{"line":7,"column":47}},"loc":{"start":{"line":7,"column":62},"end":{"line":9,"column":1}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":22},"end":{"line":16,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":14},"end":{"line":20,"column":15}},"loc":{"start":{"line":20,"column":23},"end":{"line":20,"column":39}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":17},"end":{"line":6,"column":1}},"type":"binary-expr","locations":[{"start":{"line":1,"column":18},"end":{"line":1,"column":22}},{"start":{"line":1,"column":26},"end":{"line":1,"column":41}},{"start":{"line":1,"column":46},"end":{"line":6,"column":1}}],"line":1},"1":{"loc":{"start":{"line":2,"column":34},"end":{"line":2,"column":125}},"type":"cond-expr","locations":[{"start":{"line":2,"column":42},"end":{"line":2,"column":48}},{"start":{"line":2,"column":51},"end":{"line":2,"column":125}}],"line":2},"2":{"loc":{"start":{"line":2,"column":51},"end":{"line":2,"column":125}},"type":"cond-expr","locations":[{"start":{"line":2,"column":67},"end":{"line":2,"column":118}},{"start":{"line":2,"column":121},"end":{"line":2,"column":125}}],"line":2},"3":{"loc":{"start":{"line":3,"column":4},"end":{"line":4,"column":150}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":4,"column":150}},{"start":{"line":3,"column":4},"end":{"line":4,"column":150}}],"line":3},"4":{"loc":{"start":{"line":3,"column":8},"end":{"line":3,"column":77}},"type":"binary-expr","locations":[{"start":{"line":3,"column":8},"end":{"line":3,"column":35}},{"start":{"line":3,"column":39},"end":{"line":3,"column":77}}],"line":3},"5":{"loc":{"start":{"line":4,"column":58},"end":{"line":4,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":58},"end":{"line":4,"column":150}},{"start":{"line":4,"column":58},"end":{"line":4,"column":150}}],"line":4},"6":{"loc":{"start":{"line":4,"column":85},"end":{"line":4,"column":149}},"type":"binary-expr","locations":[{"start":{"line":4,"column":86},"end":{"line":4,"column":143}},{"start":{"line":4,"column":148},"end":{"line":4,"column":149}}],"line":4},"7":{"loc":{"start":{"line":4,"column":86},"end":{"line":4,"column":143}},"type":"cond-expr","locations":[{"start":{"line":4,"column":94},"end":{"line":4,"column":98}},{"start":{"line":4,"column":101},"end":{"line":4,"column":143}}],"line":4},"8":{"loc":{"start":{"line":4,"column":101},"end":{"line":4,"column":143}},"type":"cond-expr","locations":[{"start":{"line":4,"column":109},"end":{"line":4,"column":126}},{"start":{"line":4,"column":129},"end":{"line":4,"column":143}}],"line":4},"9":{"loc":{"start":{"line":5,"column":11},"end":{"line":5,"column":62}},"type":"binary-expr","locations":[{"start":{"line":5,"column":11},"end":{"line":5,"column":16}},{"start":{"line":5,"column":20},"end":{"line":5,"column":21}},{"start":{"line":5,"column":25},"end":{"line":5,"column":62}}],"line":5},"10":{"loc":{"start":{"line":7,"column":17},"end":{"line":9,"column":1}},"type":"binary-expr","locations":[{"start":{"line":7,"column":18},"end":{"line":7,"column":22}},{"start":{"line":7,"column":26},"end":{"line":7,"column":41}},{"start":{"line":7,"column":46},"end":{"line":9,"column":1}}],"line":7},"11":{"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":109}},"type":"if","locations":[{"start":{"line":8,"column":4},"end":{"line":8,"column":109}},{"start":{"line":8,"column":4},"end":{"line":8,"column":109}}],"line":8},"12":{"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":77}},"type":"binary-expr","locations":[{"start":{"line":8,"column":8},"end":{"line":8,"column":35}},{"start":{"line":8,"column":39},"end":{"line":8,"column":77}}],"line":8},"13":{"loc":{"start":{"line":21,"column":30},"end":{"line":21,"column":118}},"type":"binary-expr","locations":[{"start":{"line":21,"column":30},"end":{"line":21,"column":102}},{"start":{"line":21,"column":106},"end":{"line":21,"column":108}},{"start":{"line":21,"column":112},"end":{"line":21,"column":118}}],"line":21},"14":{"loc":{"start":{"line":21,"column":43},"end":{"line":21,"column":86}},"type":"binary-expr","locations":[{"start":{"line":21,"column":43},"end":{"line":21,"column":74}},{"start":{"line":21,"column":78},"end":{"line":21,"column":86}}],"line":21},"15":{"loc":{"start":{"line":48,"column":37},"end":{"line":48,"column":123}},"type":"binary-expr","locations":[{"start":{"line":48,"column":37},"end":{"line":48,"column":107}},{"start":{"line":48,"column":111},"end":{"line":48,"column":113}},{"start":{"line":48,"column":117},"end":{"line":48,"column":123}}],"line":48},"16":{"loc":{"start":{"line":48,"column":50},"end":{"line":48,"column":91}},"type":"binary-expr","locations":[{"start":{"line":48,"column":50},"end":{"line":48,"column":80}},{"start":{"line":48,"column":84},"end":{"line":48,"column":91}}],"line":48}},"s":{"0":1,"1":7,"2":7,"3":7,"4":7,"5":0,"6":0,"7":0,"8":7,"9":1,"10":7,"11":7,"12":1,"13":4,"14":1,"15":0,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1},"f":{"0":7,"1":7,"2":4,"3":0},"b":{"0":[1,0,1],"1":[1,6],"2":[0,6],"3":[7,0],"4":[7,7],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[7,6,0],"10":[1,0,1],"11":[7,0],"12":[7,7],"13":[1,0,1],"14":[1,0],"15":[1,0,1],"16":[1,0]},"inputSourceMap":{"version":3,"file":"storage-record.entity.js","sourceRoot":"","sources":["storage-record.entity.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EAAC,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,cAAc,EAAC,MAAM,SAAS,CAAC;AAEjE,OAAO,EAAC,OAAO,EAAE,SAAS,EAAC,MAAM,mBAAmB,CAAC;AAGrD,IAAa,aAAa,GAA1B;IAwBI,YAAY,IAA4B;QACpC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;CACJ,CAAA;AAvBG;IAFC,cAAc,EAAE;IAChB,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;kDACjC,QAAQ,oBAAR,QAAQ;yCAAC;AAIb;IAFC,MAAM,EAAE;IACR,OAAO,EAAE;;gDACQ;AAIlB;IAFC,MAAM,EAAE;IACR,OAAO,EAAE;;gDACQ;AAGlB;IADC,MAAM,EAAE;;2CACI;AAIb;IAFC,MAAM,EAAE;IACR,OAAO,EAAE;;gDACS;AAGnB;IADC,MAAM,EAAE;;2CACC;AAtBD,aAAa;IADzB,MAAM,EAAE;yDAyBa,OAAO,oBAAP,OAAO;GAxBhB,aAAa,CA2BzB;SA3BY,aAAa","sourcesContent":["import {Column, Entity, ObjectID, ObjectIdColumn} from 'typeorm';\nimport {IStorageRecord} from '@bit/alan18081.astra-storage.common.dist';\nimport {Exclude, Transform} from 'class-transformer';\n\n@Entity()\nexport class StorageRecord implements IStorageRecord {\n\n    @ObjectIdColumn()\n    @Transform(value => value.toString())\n    id: ObjectID;\n\n    @Column()\n    @Exclude()\n    storageId: number;\n\n    @Column()\n    @Exclude()\n    projectId: number;\n\n    @Column()\n    path: string;\n\n    @Column()\n    @Exclude()\n    accountId?: number;\n\n    @Column()\n    data: any;\n\n    constructor(data: Partial<StorageRecord>) {\n        Object.assign(this, data);\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"9555c0ca7758cb3ecdbda36c94f357413d691a45"}
,"/home/alex/PhpstormProjects/astra-storage/DataService/src/components/storage-records/storage-records.repository.ts": {"path":"/home/alex/PhpstormProjects/astra-storage/DataService/src/components/storage-records/storage-records.repository.ts","statementMap":{"0":{"start":{"line":1,"column":17},"end":{"line":6,"column":1}},"1":{"start":{"line":2,"column":12},"end":{"line":2,"column":28}},"2":{"start":{"line":2,"column":34},"end":{"line":2,"column":125}},"3":{"start":{"line":3,"column":4},"end":{"line":4,"column":150}},"4":{"start":{"line":3,"column":79},"end":{"line":3,"column":131}},"5":{"start":{"line":4,"column":9},"end":{"line":4,"column":150}},"6":{"start":{"line":4,"column":58},"end":{"line":4,"column":150}},"7":{"start":{"line":4,"column":81},"end":{"line":4,"column":150}},"8":{"start":{"line":5,"column":4},"end":{"line":5,"column":66}},"9":{"start":{"line":7,"column":16},"end":{"line":14,"column":1}},"10":{"start":{"line":8,"column":4},"end":{"line":13,"column":7}},"11":{"start":{"line":9,"column":36},"end":{"line":9,"column":97}},"12":{"start":{"line":9,"column":42},"end":{"line":9,"column":70}},"13":{"start":{"line":9,"column":85},"end":{"line":9,"column":95}},"14":{"start":{"line":10,"column":35},"end":{"line":10,"column":100}},"15":{"start":{"line":10,"column":41},"end":{"line":10,"column":73}},"16":{"start":{"line":10,"column":88},"end":{"line":10,"column":98}},"17":{"start":{"line":11,"column":32},"end":{"line":11,"column":149}},"18":{"start":{"line":11,"column":97},"end":{"line":11,"column":119}},"19":{"start":{"line":12,"column":8},"end":{"line":12,"column":78}},"20":{"start":{"line":18,"column":31},"end":{"line":55,"column":1}},"21":{"start":{"line":20,"column":8},"end":{"line":22,"column":11}},"22":{"start":{"line":21,"column":12},"end":{"line":21,"column":36}},"23":{"start":{"line":25,"column":8},"end":{"line":37,"column":11}},"24":{"start":{"line":26,"column":34},"end":{"line":30,"column":14}},"25":{"start":{"line":31,"column":12},"end":{"line":36,"column":14}},"26":{"start":{"line":40,"column":8},"end":{"line":42,"column":11}},"27":{"start":{"line":41,"column":12},"end":{"line":41,"column":36}},"28":{"start":{"line":45,"column":8},"end":{"line":48,"column":11}},"29":{"start":{"line":46,"column":27},"end":{"line":46,"column":101}},"30":{"start":{"line":47,"column":12},"end":{"line":47,"column":32}},"31":{"start":{"line":51,"column":8},"end":{"line":53,"column":11}},"32":{"start":{"line":52,"column":12},"end":{"line":52,"column":60}},"33":{"start":{"line":56,"column":0},"end":{"line":58,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":1,"column":46},"end":{"line":1,"column":47}},"loc":{"start":{"line":1,"column":87},"end":{"line":6,"column":1}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":44},"end":{"line":7,"column":45}},"loc":{"start":{"line":7,"column":89},"end":{"line":14,"column":1}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":8,"column":36},"end":{"line":8,"column":37}},"loc":{"start":{"line":8,"column":63},"end":{"line":13,"column":5}},"line":8},"3":{"name":"fulfilled","decl":{"start":{"line":9,"column":17},"end":{"line":9,"column":26}},"loc":{"start":{"line":9,"column":34},"end":{"line":9,"column":99}},"line":9},"4":{"name":"rejected","decl":{"start":{"line":10,"column":17},"end":{"line":10,"column":25}},"loc":{"start":{"line":10,"column":33},"end":{"line":10,"column":102}},"line":10},"5":{"name":"step","decl":{"start":{"line":11,"column":17},"end":{"line":11,"column":21}},"loc":{"start":{"line":11,"column":30},"end":{"line":11,"column":151}},"line":11},"6":{"name":"(anonymous_6)","decl":{"start":{"line":11,"column":76},"end":{"line":11,"column":77}},"loc":{"start":{"line":11,"column":95},"end":{"line":11,"column":121}},"line":11},"7":{"name":"(anonymous_7)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":20},"end":{"line":23,"column":5}},"line":19},"8":{"name":"(anonymous_8)","decl":{"start":{"line":20,"column":47},"end":{"line":20,"column":48}},"loc":{"start":{"line":20,"column":60},"end":{"line":22,"column":9}},"line":20},"9":{"name":"(anonymous_9)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":51},"end":{"line":38,"column":5}},"line":24},"10":{"name":"(anonymous_10)","decl":{"start":{"line":25,"column":47},"end":{"line":25,"column":48}},"loc":{"start":{"line":25,"column":60},"end":{"line":37,"column":9}},"line":25},"11":{"name":"(anonymous_11)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":17},"end":{"line":43,"column":5}},"line":39},"12":{"name":"(anonymous_12)","decl":{"start":{"line":40,"column":47},"end":{"line":40,"column":48}},"loc":{"start":{"line":40,"column":60},"end":{"line":42,"column":9}},"line":40},"13":{"name":"(anonymous_13)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":31},"end":{"line":49,"column":5}},"line":44},"14":{"name":"(anonymous_14)","decl":{"start":{"line":45,"column":47},"end":{"line":45,"column":48}},"loc":{"start":{"line":45,"column":60},"end":{"line":48,"column":9}},"line":45},"15":{"name":"(anonymous_15)","decl":{"start":{"line":50,"column":4},"end":{"line":50,"column":5}},"loc":{"start":{"line":50,"column":19},"end":{"line":54,"column":5}},"line":50},"16":{"name":"(anonymous_16)","decl":{"start":{"line":51,"column":47},"end":{"line":51,"column":48}},"loc":{"start":{"line":51,"column":60},"end":{"line":53,"column":9}},"line":51}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":17},"end":{"line":6,"column":1}},"type":"binary-expr","locations":[{"start":{"line":1,"column":18},"end":{"line":1,"column":22}},{"start":{"line":1,"column":26},"end":{"line":1,"column":41}},{"start":{"line":1,"column":46},"end":{"line":6,"column":1}}],"line":1},"1":{"loc":{"start":{"line":2,"column":34},"end":{"line":2,"column":125}},"type":"cond-expr","locations":[{"start":{"line":2,"column":42},"end":{"line":2,"column":48}},{"start":{"line":2,"column":51},"end":{"line":2,"column":125}}],"line":2},"2":{"loc":{"start":{"line":2,"column":51},"end":{"line":2,"column":125}},"type":"cond-expr","locations":[{"start":{"line":2,"column":67},"end":{"line":2,"column":118}},{"start":{"line":2,"column":121},"end":{"line":2,"column":125}}],"line":2},"3":{"loc":{"start":{"line":3,"column":4},"end":{"line":4,"column":150}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":4,"column":150}},{"start":{"line":3,"column":4},"end":{"line":4,"column":150}}],"line":3},"4":{"loc":{"start":{"line":3,"column":8},"end":{"line":3,"column":77}},"type":"binary-expr","locations":[{"start":{"line":3,"column":8},"end":{"line":3,"column":35}},{"start":{"line":3,"column":39},"end":{"line":3,"column":77}}],"line":3},"5":{"loc":{"start":{"line":4,"column":58},"end":{"line":4,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":58},"end":{"line":4,"column":150}},{"start":{"line":4,"column":58},"end":{"line":4,"column":150}}],"line":4},"6":{"loc":{"start":{"line":4,"column":85},"end":{"line":4,"column":149}},"type":"binary-expr","locations":[{"start":{"line":4,"column":86},"end":{"line":4,"column":143}},{"start":{"line":4,"column":148},"end":{"line":4,"column":149}}],"line":4},"7":{"loc":{"start":{"line":4,"column":86},"end":{"line":4,"column":143}},"type":"cond-expr","locations":[{"start":{"line":4,"column":94},"end":{"line":4,"column":98}},{"start":{"line":4,"column":101},"end":{"line":4,"column":143}}],"line":4},"8":{"loc":{"start":{"line":4,"column":101},"end":{"line":4,"column":143}},"type":"cond-expr","locations":[{"start":{"line":4,"column":109},"end":{"line":4,"column":126}},{"start":{"line":4,"column":129},"end":{"line":4,"column":143}}],"line":4},"9":{"loc":{"start":{"line":5,"column":11},"end":{"line":5,"column":62}},"type":"binary-expr","locations":[{"start":{"line":5,"column":11},"end":{"line":5,"column":16}},{"start":{"line":5,"column":20},"end":{"line":5,"column":21}},{"start":{"line":5,"column":25},"end":{"line":5,"column":62}}],"line":5},"10":{"loc":{"start":{"line":7,"column":16},"end":{"line":14,"column":1}},"type":"binary-expr","locations":[{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},{"start":{"line":7,"column":25},"end":{"line":7,"column":39}},{"start":{"line":7,"column":44},"end":{"line":14,"column":1}}],"line":7},"11":{"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":34}},"type":"binary-expr","locations":[{"start":{"line":8,"column":16},"end":{"line":8,"column":17}},{"start":{"line":8,"column":22},"end":{"line":8,"column":33}}],"line":8},"12":{"loc":{"start":{"line":11,"column":32},"end":{"line":11,"column":148}},"type":"cond-expr","locations":[{"start":{"line":11,"column":46},"end":{"line":11,"column":67}},{"start":{"line":11,"column":70},"end":{"line":11,"column":148}}],"line":11},"13":{"loc":{"start":{"line":12,"column":51},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":51},"end":{"line":12,"column":61}},{"start":{"line":12,"column":65},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"b":{"0":[1,0,1],"1":[1,0],"2":[0,0],"3":[1,0],"4":[1,1],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[1,0,0],"10":[1,0,1],"11":[0,0],"12":[0,0],"13":[0,0]},"inputSourceMap":{"version":3,"file":"storage-records.repository.js","sourceRoot":"","sources":["storage-records.repository.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAEA,OAAO,EAAC,gBAAgB,EAAE,eAAe,GAAG,MAAM,SAAS,CAAC;AAC5D,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;AACxD,OAAO,EAAC,QAAQ,EAAC,MAAM,SAAS,CAAC;AAGjC,IAAa,wBAAwB,GAArC,8BAAsC,SAAQ,eAA8B;IAElE,QAAQ,CAAC,KAA6B;;YAC1C,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1B,CAAC;KAAA;IAEK,sBAAsB,CAAC,KAA6B,EAAE,EAAE,IAAI,EAAE,KAAK,EAA2B;;YAClG,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC;gBAC1C,KAAK,EAAE,KAAK;gBACZ,IAAI,EAAE,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,KAAK;gBACxB,IAAI,EAAE,KAAK;aACd,CAAC,CAAC;YAEH,OAAO;gBACL,IAAI;gBACJ,YAAY,EAAE,KAAK;gBACnB,IAAI;gBACJ,UAAU,EAAE,KAAK;aAClB,CAAC;QACJ,CAAC;KAAA;IAEK,QAAQ,CAAC,EAAU;;YACvB,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC1B,CAAC;KAAA;IAEK,gBAAgB,CAAC,EAAU,EAAE,IAA4B;;YAC7D,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,EAAE,GAAG,EAAE,IAAI,QAAQ,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAC,CAAC,CAAC;YACzF,OAAO,MAAM,CAAC,KAAK,CAAC;QACtB,CAAC;KAAA;IAEK,UAAU,CAAC,EAAU;;YACzB,MAAM,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,EAAE,IAAI,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC;KAAA;CACJ,CAAA;AAjCY,wBAAwB;IADpC,gBAAgB,CAAC,aAAa,CAAC;GACnB,wBAAwB,CAiCpC;SAjCY,wBAAwB","sourcesContent":["import { PaginatedResponse } from '@bit/alan18081.astra-storage.common.dist';\nimport { PaginationDto } from '@bit/alan18081.astra-storage.common.dist/dto';\nimport {EntityRepository, MongoRepository, } from 'typeorm';\nimport { StorageRecord } from './storage-record.entity';\nimport {ObjectId} from 'mongodb';\n\n@EntityRepository(StorageRecord)\nexport class StorageRecordsRepository extends MongoRepository<StorageRecord> {\n\n    async findMany(query: Partial<StorageRecord>): Promise<StorageRecord[]> {\n      return this.find(query);\n    }\n\n    async findManyWithPagination(query: Partial<StorageRecord>, { page, limit }: Required<PaginationDto>): Promise<PaginatedResponse<StorageRecord>> {\n      const [data, count] = await this.findAndCount({\n          where: query,\n          skip: (page - 1) * limit,\n          take: limit,\n      });\n\n      return {\n        data,\n        itemsPerPage: limit,\n        page,\n        totalCount: count,\n      };\n    }\n\n    async findById(id: string): Promise<StorageRecord | undefined> {\n      return this.findOne(id);\n    }\n\n    async updateOneAndFind(id: string, data: Partial<StorageRecord>): Promise<StorageRecord | undefined> {\n      const result = await this.findOneAndUpdate({ _id: new ObjectId(id) }, { $set: { data }});\n      return result.value;\n    }\n\n    async removeById(id: string): Promise<void> {\n      await this.deleteOne({ _id: new ObjectId(id) });\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"aab153ff40b76be92f8e3ea46080ae3ca24c11ad"}
,"/home/alex/PhpstormProjects/astra-storage/DataService/src/components/storage-records/storage-records.service.ts": {"path":"/home/alex/PhpstormProjects/astra-storage/DataService/src/components/storage-records/storage-records.service.ts","statementMap":{"0":{"start":{"line":1,"column":17},"end":{"line":6,"column":1}},"1":{"start":{"line":2,"column":12},"end":{"line":2,"column":28}},"2":{"start":{"line":2,"column":34},"end":{"line":2,"column":125}},"3":{"start":{"line":3,"column":4},"end":{"line":4,"column":150}},"4":{"start":{"line":3,"column":79},"end":{"line":3,"column":131}},"5":{"start":{"line":4,"column":9},"end":{"line":4,"column":150}},"6":{"start":{"line":4,"column":58},"end":{"line":4,"column":150}},"7":{"start":{"line":4,"column":81},"end":{"line":4,"column":150}},"8":{"start":{"line":5,"column":4},"end":{"line":5,"column":66}},"9":{"start":{"line":7,"column":17},"end":{"line":9,"column":1}},"10":{"start":{"line":8,"column":4},"end":{"line":8,"column":109}},"11":{"start":{"line":8,"column":79},"end":{"line":8,"column":109}},"12":{"start":{"line":10,"column":14},"end":{"line":12,"column":1}},"13":{"start":{"line":11,"column":4},"end":{"line":11,"column":73}},"14":{"start":{"line":11,"column":36},"end":{"line":11,"column":71}},"15":{"start":{"line":13,"column":16},"end":{"line":20,"column":1}},"16":{"start":{"line":14,"column":4},"end":{"line":19,"column":7}},"17":{"start":{"line":15,"column":36},"end":{"line":15,"column":97}},"18":{"start":{"line":15,"column":42},"end":{"line":15,"column":70}},"19":{"start":{"line":15,"column":85},"end":{"line":15,"column":95}},"20":{"start":{"line":16,"column":35},"end":{"line":16,"column":100}},"21":{"start":{"line":16,"column":41},"end":{"line":16,"column":73}},"22":{"start":{"line":16,"column":88},"end":{"line":16,"column":98}},"23":{"start":{"line":17,"column":32},"end":{"line":17,"column":149}},"24":{"start":{"line":17,"column":97},"end":{"line":17,"column":119}},"25":{"start":{"line":18,"column":8},"end":{"line":18,"column":78}},"26":{"start":{"line":21,"column":13},"end":{"line":29,"column":1}},"27":{"start":{"line":22,"column":12},"end":{"line":22,"column":14}},"28":{"start":{"line":23,"column":4},"end":{"line":24,"column":20}},"29":{"start":{"line":23,"column":21},"end":{"line":24,"column":20}},"30":{"start":{"line":24,"column":8},"end":{"line":24,"column":20}},"31":{"start":{"line":25,"column":4},"end":{"line":27,"column":30}},"32":{"start":{"line":26,"column":8},"end":{"line":27,"column":30}},"33":{"start":{"line":26,"column":80},"end":{"line":27,"column":30}},"34":{"start":{"line":27,"column":12},"end":{"line":27,"column":30}},"35":{"start":{"line":28,"column":4},"end":{"line":28,"column":13}},"36":{"start":{"line":35,"column":28},"end":{"line":79,"column":1}},"37":{"start":{"line":37,"column":8},"end":{"line":37,"column":65}},"38":{"start":{"line":40,"column":8},"end":{"line":42,"column":11}},"39":{"start":{"line":41,"column":12},"end":{"line":41,"column":62}},"40":{"start":{"line":45,"column":8},"end":{"line":51,"column":11}},"41":{"start":{"line":46,"column":12},"end":{"line":49,"column":13}},"42":{"start":{"line":47,"column":40},"end":{"line":47,"column":45}},"43":{"start":{"line":47,"column":54},"end":{"line":47,"column":86}},"44":{"start":{"line":48,"column":16},"end":{"line":48,"column":70}},"45":{"start":{"line":50,"column":12},"end":{"line":50,"column":36}},"46":{"start":{"line":54,"column":8},"end":{"line":56,"column":11}},"47":{"start":{"line":55,"column":12},"end":{"line":55,"column":65}},"48":{"start":{"line":59,"column":8},"end":{"line":61,"column":11}},"49":{"start":{"line":60,"column":12},"end":{"line":60,"column":91}},"50":{"start":{"line":64,"column":8},"end":{"line":66,"column":11}},"51":{"start":{"line":65,"column":12},"end":{"line":65,"column":76}},"52":{"start":{"line":69,"column":8},"end":{"line":72,"column":11}},"53":{"start":{"line":70,"column":30},"end":{"line":70,"column":56}},"54":{"start":{"line":71,"column":12},"end":{"line":71,"column":65}},"55":{"start":{"line":75,"column":8},"end":{"line":77,"column":11}},"56":{"start":{"line":76,"column":12},"end":{"line":76,"column":69}},"57":{"start":{"line":80,"column":0},"end":{"line":84,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":1,"column":46},"end":{"line":1,"column":47}},"loc":{"start":{"line":1,"column":87},"end":{"line":6,"column":1}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":46},"end":{"line":7,"column":47}},"loc":{"start":{"line":7,"column":62},"end":{"line":9,"column":1}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":40},"end":{"line":10,"column":41}},"loc":{"start":{"line":10,"column":73},"end":{"line":12,"column":1}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":11,"column":11},"end":{"line":11,"column":12}},"loc":{"start":{"line":11,"column":34},"end":{"line":11,"column":73}},"line":11},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":44},"end":{"line":13,"column":45}},"loc":{"start":{"line":13,"column":89},"end":{"line":20,"column":1}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":36},"end":{"line":14,"column":37}},"loc":{"start":{"line":14,"column":63},"end":{"line":19,"column":5}},"line":14},"6":{"name":"fulfilled","decl":{"start":{"line":15,"column":17},"end":{"line":15,"column":26}},"loc":{"start":{"line":15,"column":34},"end":{"line":15,"column":99}},"line":15},"7":{"name":"rejected","decl":{"start":{"line":16,"column":17},"end":{"line":16,"column":25}},"loc":{"start":{"line":16,"column":33},"end":{"line":16,"column":102}},"line":16},"8":{"name":"step","decl":{"start":{"line":17,"column":17},"end":{"line":17,"column":21}},"loc":{"start":{"line":17,"column":30},"end":{"line":17,"column":151}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":76},"end":{"line":17,"column":77}},"loc":{"start":{"line":17,"column":95},"end":{"line":17,"column":121}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":21,"column":38},"end":{"line":21,"column":39}},"loc":{"start":{"line":21,"column":54},"end":{"line":29,"column":1}},"line":21},"11":{"name":"(anonymous_11)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":42},"end":{"line":38,"column":5}},"line":36},"12":{"name":"(anonymous_12)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":20},"end":{"line":43,"column":5}},"line":39},"13":{"name":"(anonymous_13)","decl":{"start":{"line":40,"column":47},"end":{"line":40,"column":48}},"loc":{"start":{"line":40,"column":60},"end":{"line":42,"column":9}},"line":40},"14":{"name":"(anonymous_14)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":20},"end":{"line":52,"column":5}},"line":44},"15":{"name":"(anonymous_15)","decl":{"start":{"line":45,"column":47},"end":{"line":45,"column":48}},"loc":{"start":{"line":45,"column":60},"end":{"line":51,"column":9}},"line":45},"16":{"name":"(anonymous_16)","decl":{"start":{"line":53,"column":4},"end":{"line":53,"column":5}},"loc":{"start":{"line":53,"column":16},"end":{"line":57,"column":5}},"line":53},"17":{"name":"(anonymous_17)","decl":{"start":{"line":54,"column":47},"end":{"line":54,"column":48}},"loc":{"start":{"line":54,"column":60},"end":{"line":56,"column":9}},"line":54},"18":{"name":"(anonymous_18)","decl":{"start":{"line":58,"column":4},"end":{"line":58,"column":5}},"loc":{"start":{"line":58,"column":42},"end":{"line":62,"column":5}},"line":58},"19":{"name":"(anonymous_19)","decl":{"start":{"line":59,"column":47},"end":{"line":59,"column":48}},"loc":{"start":{"line":59,"column":60},"end":{"line":61,"column":9}},"line":59},"20":{"name":"(anonymous_20)","decl":{"start":{"line":63,"column":4},"end":{"line":63,"column":5}},"loc":{"start":{"line":63,"column":28},"end":{"line":67,"column":5}},"line":63},"21":{"name":"(anonymous_21)","decl":{"start":{"line":64,"column":47},"end":{"line":64,"column":48}},"loc":{"start":{"line":64,"column":60},"end":{"line":66,"column":9}},"line":64},"22":{"name":"(anonymous_22)","decl":{"start":{"line":68,"column":4},"end":{"line":68,"column":5}},"loc":{"start":{"line":68,"column":23},"end":{"line":73,"column":5}},"line":68},"23":{"name":"(anonymous_23)","decl":{"start":{"line":69,"column":47},"end":{"line":69,"column":48}},"loc":{"start":{"line":69,"column":60},"end":{"line":72,"column":9}},"line":69},"24":{"name":"(anonymous_24)","decl":{"start":{"line":74,"column":4},"end":{"line":74,"column":5}},"loc":{"start":{"line":74,"column":25},"end":{"line":78,"column":5}},"line":74},"25":{"name":"(anonymous_25)","decl":{"start":{"line":75,"column":47},"end":{"line":75,"column":48}},"loc":{"start":{"line":75,"column":60},"end":{"line":77,"column":9}},"line":75}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":17},"end":{"line":6,"column":1}},"type":"binary-expr","locations":[{"start":{"line":1,"column":18},"end":{"line":1,"column":22}},{"start":{"line":1,"column":26},"end":{"line":1,"column":41}},{"start":{"line":1,"column":46},"end":{"line":6,"column":1}}],"line":1},"1":{"loc":{"start":{"line":2,"column":34},"end":{"line":2,"column":125}},"type":"cond-expr","locations":[{"start":{"line":2,"column":42},"end":{"line":2,"column":48}},{"start":{"line":2,"column":51},"end":{"line":2,"column":125}}],"line":2},"2":{"loc":{"start":{"line":2,"column":51},"end":{"line":2,"column":125}},"type":"cond-expr","locations":[{"start":{"line":2,"column":67},"end":{"line":2,"column":118}},{"start":{"line":2,"column":121},"end":{"line":2,"column":125}}],"line":2},"3":{"loc":{"start":{"line":3,"column":4},"end":{"line":4,"column":150}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":4,"column":150}},{"start":{"line":3,"column":4},"end":{"line":4,"column":150}}],"line":3},"4":{"loc":{"start":{"line":3,"column":8},"end":{"line":3,"column":77}},"type":"binary-expr","locations":[{"start":{"line":3,"column":8},"end":{"line":3,"column":35}},{"start":{"line":3,"column":39},"end":{"line":3,"column":77}}],"line":3},"5":{"loc":{"start":{"line":4,"column":58},"end":{"line":4,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":58},"end":{"line":4,"column":150}},{"start":{"line":4,"column":58},"end":{"line":4,"column":150}}],"line":4},"6":{"loc":{"start":{"line":4,"column":85},"end":{"line":4,"column":149}},"type":"binary-expr","locations":[{"start":{"line":4,"column":86},"end":{"line":4,"column":143}},{"start":{"line":4,"column":148},"end":{"line":4,"column":149}}],"line":4},"7":{"loc":{"start":{"line":4,"column":86},"end":{"line":4,"column":143}},"type":"cond-expr","locations":[{"start":{"line":4,"column":94},"end":{"line":4,"column":98}},{"start":{"line":4,"column":101},"end":{"line":4,"column":143}}],"line":4},"8":{"loc":{"start":{"line":4,"column":101},"end":{"line":4,"column":143}},"type":"cond-expr","locations":[{"start":{"line":4,"column":109},"end":{"line":4,"column":126}},{"start":{"line":4,"column":129},"end":{"line":4,"column":143}}],"line":4},"9":{"loc":{"start":{"line":5,"column":11},"end":{"line":5,"column":62}},"type":"binary-expr","locations":[{"start":{"line":5,"column":11},"end":{"line":5,"column":16}},{"start":{"line":5,"column":20},"end":{"line":5,"column":21}},{"start":{"line":5,"column":25},"end":{"line":5,"column":62}}],"line":5},"10":{"loc":{"start":{"line":7,"column":17},"end":{"line":9,"column":1}},"type":"binary-expr","locations":[{"start":{"line":7,"column":18},"end":{"line":7,"column":22}},{"start":{"line":7,"column":26},"end":{"line":7,"column":41}},{"start":{"line":7,"column":46},"end":{"line":9,"column":1}}],"line":7},"11":{"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":109}},"type":"if","locations":[{"start":{"line":8,"column":4},"end":{"line":8,"column":109}},{"start":{"line":8,"column":4},"end":{"line":8,"column":109}}],"line":8},"12":{"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":77}},"type":"binary-expr","locations":[{"start":{"line":8,"column":8},"end":{"line":8,"column":35}},{"start":{"line":8,"column":39},"end":{"line":8,"column":77}}],"line":8},"13":{"loc":{"start":{"line":10,"column":14},"end":{"line":12,"column":1}},"type":"binary-expr","locations":[{"start":{"line":10,"column":15},"end":{"line":10,"column":19}},{"start":{"line":10,"column":23},"end":{"line":10,"column":35}},{"start":{"line":10,"column":40},"end":{"line":12,"column":1}}],"line":10},"14":{"loc":{"start":{"line":13,"column":16},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":13,"column":17},"end":{"line":13,"column":21}},{"start":{"line":13,"column":25},"end":{"line":13,"column":39}},{"start":{"line":13,"column":44},"end":{"line":20,"column":1}}],"line":13},"15":{"loc":{"start":{"line":14,"column":16},"end":{"line":14,"column":34}},"type":"binary-expr","locations":[{"start":{"line":14,"column":16},"end":{"line":14,"column":17}},{"start":{"line":14,"column":22},"end":{"line":14,"column":33}}],"line":14},"16":{"loc":{"start":{"line":17,"column":32},"end":{"line":17,"column":148}},"type":"cond-expr","locations":[{"start":{"line":17,"column":46},"end":{"line":17,"column":67}},{"start":{"line":17,"column":70},"end":{"line":17,"column":148}}],"line":17},"17":{"loc":{"start":{"line":18,"column":51},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":51},"end":{"line":18,"column":61}},{"start":{"line":18,"column":65},"end":{"line":18,"column":67}}],"line":18},"18":{"loc":{"start":{"line":21,"column":13},"end":{"line":29,"column":1}},"type":"binary-expr","locations":[{"start":{"line":21,"column":14},"end":{"line":21,"column":18}},{"start":{"line":21,"column":22},"end":{"line":21,"column":33}},{"start":{"line":21,"column":38},"end":{"line":29,"column":1}}],"line":21},"19":{"loc":{"start":{"line":23,"column":21},"end":{"line":24,"column":20}},"type":"if","locations":[{"start":{"line":23,"column":21},"end":{"line":24,"column":20}},{"start":{"line":23,"column":21},"end":{"line":24,"column":20}}],"line":23},"20":{"loc":{"start":{"line":23,"column":25},"end":{"line":23,"column":87}},"type":"binary-expr","locations":[{"start":{"line":23,"column":25},"end":{"line":23,"column":67}},{"start":{"line":23,"column":71},"end":{"line":23,"column":87}}],"line":23},"21":{"loc":{"start":{"line":25,"column":4},"end":{"line":27,"column":30}},"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":27,"column":30}},{"start":{"line":25,"column":4},"end":{"line":27,"column":30}}],"line":25},"22":{"loc":{"start":{"line":25,"column":8},"end":{"line":25,"column":71}},"type":"binary-expr","locations":[{"start":{"line":25,"column":8},"end":{"line":25,"column":17}},{"start":{"line":25,"column":21},"end":{"line":25,"column":71}}],"line":25},"23":{"loc":{"start":{"line":26,"column":80},"end":{"line":27,"column":30}},"type":"if","locations":[{"start":{"line":26,"column":80},"end":{"line":27,"column":30}},{"start":{"line":26,"column":80},"end":{"line":27,"column":30}}],"line":26},"24":{"loc":{"start":{"line":46,"column":12},"end":{"line":49,"column":13}},"type":"if","locations":[{"start":{"line":46,"column":12},"end":{"line":49,"column":13}},{"start":{"line":46,"column":12},"end":{"line":49,"column":13}}],"line":46},"25":{"loc":{"start":{"line":46,"column":16},"end":{"line":46,"column":41}},"type":"binary-expr","locations":[{"start":{"line":46,"column":16},"end":{"line":46,"column":26}},{"start":{"line":46,"column":30},"end":{"line":46,"column":41}}],"line":46},"26":{"loc":{"start":{"line":83,"column":37},"end":{"line":83,"column":157}},"type":"binary-expr","locations":[{"start":{"line":83,"column":37},"end":{"line":83,"column":141}},{"start":{"line":83,"column":145},"end":{"line":83,"column":147}},{"start":{"line":83,"column":151},"end":{"line":83,"column":157}}],"line":83},"27":{"loc":{"start":{"line":83,"column":50},"end":{"line":83,"column":125}},"type":"binary-expr","locations":[{"start":{"line":83,"column":50},"end":{"line":83,"column":97}},{"start":{"line":83,"column":101},"end":{"line":83,"column":125}}],"line":83}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":7,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":6,"24":1,"25":7,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":9,"38":0,"39":0,"40":2,"41":2,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":2,"51":2,"52":2,"53":2,"54":2,"55":1,"56":1,"57":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":7,"5":7,"6":1,"7":0,"8":6,"9":1,"10":0,"11":9,"12":0,"13":0,"14":2,"15":2,"16":0,"17":0,"18":0,"19":0,"20":2,"21":2,"22":2,"23":2,"24":1,"25":1},"b":{"0":[1,0,1],"1":[1,0],"2":[0,0],"3":[1,0],"4":[1,1],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[1,0,0],"10":[1,0,1],"11":[1,0],"12":[1,1],"13":[1,0,1],"14":[1,0,1],"15":[7,7],"16":[5,1],"17":[7,7],"18":[1,0,1],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[2,0],"26":[1,1,0],"27":[1,1]},"inputSourceMap":{"version":3,"file":"storage-records.service.js","sourceRoot":"","sources":["storage-records.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,wBAAwB,EAAE,MAAM,8BAA8B,CAAC;AAExE,OAAO,EAAE,UAAU,EAAE,MAAM,gBAAgB,CAAC;AAC5C,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;AAExD,OAAO,EAAC,gBAAgB,EAAC,MAAM,iBAAiB,CAAC;AAGjD,IAAa,qBAAqB,GAAlC;IACI,YAEmB,wBAAkD;QAAlD,6BAAwB,GAAxB,wBAAwB,CAA0B;IAClE,CAAC;IAEE,WAAW,CAAC,EAAU;;YACxB,OAAO,IAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC;KAAA;IAEK,QAAQ,CAAC,KAAgC;;YAC3C,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,KAAK,EAAE;gBAC3B,MAAM,EAAE,IAAI,EAAE,KAAK,KAAc,KAAK,EAAjB,uCAAiB,CAAC;gBACvC,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;aACzD;YAED,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5B,CAAC;KAAA;IAEa,IAAI,CAAC,KAAgC;;YAC/C,OAAO,IAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACzD,CAAC;KAAA;IAEa,kBAAkB,CAAC,KAAgC,EAAE,UAAmC;;YAClG,OAAO,IAAI,CAAC,wBAAwB,CAAC,sBAAsB,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;QACnF,CAAC;KAAA;IAEK,SAAS,CAAC,EAAE,IAAI,EAAE,EAAE,EAA0B;;YAClD,OAAO,IAAI,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QAClE,CAAC;KAAA;IAEK,SAAS,CAAC,OAA+B;;YAC3C,MAAM,SAAS,GAAG,IAAI,aAAa,CAAC,OAAO,CAAC,CAAC;YAC7C,OAAO,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACzD,CAAC;KAAA;IAEK,UAAU,CAAC,QAAgB;;YAC7B,MAAM,IAAI,CAAC,wBAAwB,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QAC7D,CAAC;KAAA;CAEJ,CAAA;AAxCY,qBAAqB;IADjC,UAAU,EAAE;IAGN,WAAA,gBAAgB,CAAC,wBAAwB,CAAC,CAAA;yDACA,wBAAwB,oBAAxB,wBAAwB;GAH5D,qBAAqB,CAwCjC;SAxCY,qBAAqB","sourcesContent":["import { StorageRecordsRepository } from './storage-records.repository';\nimport {PaginatedResponse} from '../../../../Common/dist/interfaces';\nimport { Injectable } from '@nestjs/common';\nimport { StorageRecord } from './storage-record.entity';\nimport { FindStorageRecordsListDto, PaginationDto, UpdateStorageRecordDto } from '@bit/alan18081.astra-storage.common.dist/dto';\nimport {InjectRepository} from '@nestjs/typeorm';\n\n@Injectable()\nexport class StorageRecordsService {\n    constructor(\n      @InjectRepository(StorageRecordsRepository)\n      private readonly storageRecordsRepository: StorageRecordsRepository,\n    ) {}\n\n    async findOneById(id: string): Promise<StorageRecord> {\n        return this.storageRecordsRepository.findById(id);\n    }\n\n    async findMany(query: FindStorageRecordsListDto): Promise<StorageRecord[] | PaginatedResponse<StorageRecord>> {\n        if (query.page && query.limit) {\n            const { page, limit, ...data } = query;\n            return this.findWithPagination(data, { page, limit });\n        }\n\n        return this.find(query);\n    }\n\n    private async find(query: FindStorageRecordsListDto): Promise<StorageRecord[]> {\n        return this.storageRecordsRepository.findMany(query);\n    }\n\n    private async findWithPagination(query: FindStorageRecordsListDto, pagination: Required<PaginationDto>): Promise<PaginatedResponse<StorageRecord>> {\n        return this.storageRecordsRepository.findManyWithPagination(query, pagination);\n    }\n\n    async updateOne({ data, id }: UpdateStorageRecordDto): Promise<StorageRecord | undefined> {\n      return this.storageRecordsRepository.updateOneAndFind(id, data);\n    }\n\n    async createOne(payload: Partial<StorageRecord>): Promise<StorageRecord> {\n        const newRecord = new StorageRecord(payload);\n        return this.storageRecordsRepository.save(newRecord);\n    }\n\n    async removeById(recordId: string): Promise<void> {\n        await this.storageRecordsRepository.removeById(recordId);\n    }\n\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"48aa6bfd44a9a1c7f5111307d0b2cbb94277619d"}
,"/home/alex/PhpstormProjects/astra-storage/DataService/src/components/storage-records/tests/mocks.ts": {"path":"/home/alex/PhpstormProjects/astra-storage/DataService/src/components/storage-records/tests/mocks.ts","statementMap":{"0":{"start":{"line":2,"column":33},"end":{"line":12,"column":1}},"1":{"start":{"line":13,"column":34},"end":{"line":16,"column":1}},"2":{"start":{"line":17,"column":44},"end":{"line":26,"column":1}},"3":{"start":{"line":27,"column":31},"end":{"line":30,"column":1}},"4":{"start":{"line":31,"column":32},"end":{"line":35,"column":1}},"5":{"start":{"line":33,"column":8},"end":{"line":33,"column":35}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"mocks.js","sourceRoot":"","sources":["mocks.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,aAAa,EAAC,MAAM,0BAA0B,CAAC;AAEvD,MAAM,CAAC,MAAM,iBAAiB,GAAG;IAC7B,EAAE,EAAE,OAAO;IACX,SAAS,EAAE,EAAE;IACb,IAAI,EAAE,MAAM;IACZ,SAAS,EAAE,EAAE;IACb,QAAQ,EAAE,OAAO;IACjB,SAAS,EAAE,CAAC;IACZ,IAAI,EAAE;QACF,IAAI,EAAE,MAAM;KACf;CACJ,CAAC;AAEF,MAAM,CAAC,MAAM,kBAAkB,GAAG;IAChC,IAAI,aAAa,CAAC,EAAE,CAAC;IACrB,IAAI,aAAa,CAAC,EAAE,CAAC;CACtB,CAAC;AAEF,MAAM,CAAC,MAAM,4BAA4B,GAAG;IACxC,IAAI,KAAI,CAAC;IACT,QAAQ,KAAI,CAAC;IACb,cAAc,KAAI,CAAC;IACnB,IAAI,KAAI,CAAC;IACT,gBAAgB,KAAI,CAAC;IACrB,SAAS,KAAI,CAAC;IACd,iBAAiB,KAAI,CAAC;IACtB,UAAU,KAAI,CAAC;CAClB,CAAC;AAEF,MAAM,CAAC,MAAM,eAAe,GAAG;IAC7B,YAAY,KAAI,CAAC;IACjB,WAAW,KAAI,CAAC;CACjB,CAAC;AAEF,MAAM,CAAC,MAAM,gBAAgB,GAAG;IAC9B,IAAI;QACA,OAAO,EAAE,SAAS,KAAI,CAAC,EAAE,CAAA;IAC7B,CAAC;CACF,CAAC","sourcesContent":["import {StorageRecord} from '../storage-record.entity';\n\nexport const mockStorageRecord = {\n    id: 'hello',\n    storageId: 12,\n    path: 'alan',\n    projectId: 20,\n    password: 'hello',\n    accountId: 3,\n    data: {\n        name: 'Alex',\n    },\n};\n\nexport const mockStorageRecords = [\n  new StorageRecord({}),\n  new StorageRecord({}),\n];\n\nexport const mockStorageRecordsRepository = {\n    find() {},\n    findById() {},\n    findOneByEmail() {},\n    save() {},\n    updateOneAndFind() {},\n    updateOne() {},\n    findOneByGoogleId() {},\n    removeById() {},\n};\n\nexport const mockHashService = {\n  generateHash() {},\n  compareHash() {},\n};\n\nexport const mockEmailsClient = {\n  send() {\n      return { toPromise() {} }\n  }\n};\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"f56397f9864c11bad3ae976f127974a108add672"}
}
